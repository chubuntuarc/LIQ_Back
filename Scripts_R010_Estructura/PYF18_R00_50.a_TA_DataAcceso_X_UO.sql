-- //////////////////////////////////////////////////////////////
-- // ARCHIVO:			
-- //////////////////////////////////////////////////////////////
-- // BASE DE DATOS:	PYF18_Planeacion
-- // MODULO:			GRUPO_RELACION
-- // OPERACION:		LIBERACION / TABLA+CARGA 
-- ////////////////////////////////////////////////////////////// 

USE [PYF18_Finanzas_V9999_R0] 
GO

-- //////////////////////////////////////////////////////////////



-- //////////////////////////////////////////////////////////////


IF EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[DATA_ACCESO_UO]') AND type in (N'U'))
	DROP TABLE [dbo].[DATA_ACCESO_UO]
GO



-- /////////////////////////////////////////////////////////////////
-- // GRUPO_RELACION
-- /////////////////////////////////////////////////////////////////

CREATE TABLE [dbo].[DATA_ACCESO_UO] (
	[K_USUARIO]				[INT]			NOT NULL,	
	[K_UNIDAD_OPERATIVA]	[INT]			NOT NULL
) ON [PRIMARY]
GO

-- //////////////////////////////////////////////////////


ALTER TABLE [dbo].[DATA_ACCESO_UO]
	ADD CONSTRAINT [PK_DATA_ACCESO_UO]
		PRIMARY KEY CLUSTERED ( [K_USUARIO], [K_UNIDAD_OPERATIVA] )
GO




ALTER TABLE [dbo].[DATA_ACCESO_UO] ADD
	CONSTRAINT [FK_DATA_ACCESO_UO_01]  
		FOREIGN KEY ([K_USUARIO]) 
		REFERENCES [dbo].[USUARIO] ([K_USUARIO]),	
	CONSTRAINT [FK_DATA_ACCESO_UO_02]  
		FOREIGN KEY ([K_UNIDAD_OPERATIVA]) 
		REFERENCES [dbo].[UNIDAD_OPERATIVA] ([K_UNIDAD_OPERATIVA])
GO



-- //////////////////////////////////////////////////////////////
-- //////////////////////////////////////////////////////////////
-- //////////////////////////////////////////////////////////////
